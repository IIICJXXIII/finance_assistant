<!--
  чеицНошпжцГЕ/ч╝Цш╛Сщб╡щЭв
-->
<view class="detail-container">
  <!-- чК╢цАБцПРчд║ -->
  <view class="alert alert-warning" wx:if="{{detail.status === 1}}">
    <text class="alert-icon">тП│</text>
    <text class="alert-text">шпечеицНоцнгхЬихобца╕ф╕н</text>
  </view>
  <view class="alert alert-success" wx:if="{{detail.status === 2}}">
    <text class="alert-icon">тЬЕ</text>
    <text class="alert-text">шпечеицНох╖▓хобца╕щАЪш┐З</text>
  </view>
  <view class="alert alert-danger" wx:if="{{detail.status === 3}}">
    <text class="alert-icon">тЭМ</text>
    <text class="alert-text">шпечеицНох╖▓швлщй│хЫЮ: {{detail.auditRemark || 'цЧахОЯхЫа'}}</text>
  </view>

  <!-- чеицНоф┐бцБп -->
  <view class="card">
    <view class="card-header">
      <text class="card-title">ЁЯУЛ чеицНоф┐бцБп</text>
    </view>

    <view class="form-item">
      <text class="form-label">хХЖцИ╖хРНчз░</text>
      <input 
        class="form-input"
        value="{{formData.merchantName}}"
        bindinput="onInput"
        data-field="merchantName"
        disabled="{{!isEditable}}"
      />
    </view>

    <view class="form-item">
      <text class="form-label">щб╣чЫохРНчз░</text>
      <input 
        class="form-input"
        value="{{formData.itemName}}"
        bindinput="onInput"
        data-field="itemName"
        disabled="{{!isEditable}}"
      />
    </view>

    <view class="form-item">
      <text class="form-label">х╝АчеицЧецЬЯ</text>
      <picker 
        mode="date" 
        value="{{formData.date}}" 
        bindchange="onDateChange"
        disabled="{{!isEditable}}"
      >
        <view class="form-picker">
          <text>{{formData.date || 'шп╖щАЙцЛй'}}</text>
          <text class="picker-arrow" wx:if="{{isEditable}}">тЦ╝</text>
        </view>
      </picker>
    </view>

    <view class="form-item">
      <text class="form-label">щЗСщвЭ</text>
      <input 
        class="form-input"
        type="digit"
        value="{{formData.amount}}"
        bindinput="onInput"
        data-field="amount"
        disabled="{{!isEditable}}"
      />
    </view>

    <view class="form-item">
      <text class="form-label">хПСчеихП╖чаБ</text>
      <input 
        class="form-input"
        value="{{formData.invoiceCode}}"
        bindinput="onInput"
        data-field="invoiceCode"
        disabled="{{!isEditable}}"
      />
    </view>

    <view class="form-item">
      <text class="form-label">ш┤╣чФихИЖч▒╗</text>
      <picker 
        mode="selector" 
        range="{{categories}}" 
        value="{{categoryIndex}}"
        bindchange="onCategoryChange"
        disabled="{{!isEditable}}"
      >
        <view class="form-picker">
          <text>{{formData.category || 'шп╖щАЙцЛй'}}</text>
          <text class="picker-arrow" wx:if="{{isEditable}}">тЦ╝</text>
        </view>
      </picker>
    </view>

    <view class="form-item">
      <text class="form-label">хдЗц│и</text>
      <textarea 
        class="form-textarea"
        value="{{formData.remark}}"
        bindinput="onInput"
        data-field="remark"
        disabled="{{!isEditable}}"
      />
    </view>
  </view>

  <!-- х║ХщГицУНф╜Ь -->
  <view class="bottom-actions safe-area-bottom" wx:if="{{isEditable}}">
    <button class="btn btn-default" bindtap="goBack">хПЦц╢И</button>
    <button class="btn btn-primary flex-1" bindtap="saveChanges" loading="{{saving}}">
      ф┐ЭхнШф┐оцФ╣
    </button>
  </view>
</view>
